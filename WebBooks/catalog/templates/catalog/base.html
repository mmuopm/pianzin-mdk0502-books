<!DOCTYPE html>
<html lang="ru">
<head>
  {% load static %}
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/static/css/bootstrap.min.css" />
  <title>Книжный магазин</title>
</head>
<body>
  <header class="container-fluid bg-dark text-white py-4">
    <div class="row align-items-center">
      <div class="col-2 text-center">
        <img src="{% static 'images/logo.jpg' %}" alt="Лого" class="img-fluid" style="max-height: 70px;" />
      </div>
      <div class="col-10">
        <h3 class="mb-0 fw-semibold">Книжный магазин – печатные и электронные книги</h3>
      </div>
    </div>
  </header>

  <nav class="container-fluid bg-secondary py-2 text-center">
    <h6 class="mb-0">
      <a href="{% url 'index' %}" class="text-light px-3 text-decoration-none">Главная</a>
      <a href="{% url 'about' %}" class="text-light px-3 text-decoration-none">О компании</a>
      <a href="{% url 'contacts' %}" class="text-light px-3 text-decoration-none">Контакты</a>
    </h6>
  </nav>

  <main class="container-fluid my-4">
    <div class="row text-primary fw-bold fs-1">
      <div>
        {% block header %}{% endblock header %}
      </div>
    </div>
    <div class="row">
      <aside class="col-2 bg-light rounded-4 shadow-sm py-3">
        {% block sidebar %}
        <nav class="nav flex-column px-2">
          <a href="{% url 'books' %}" class="nav-link text-dark fw-semibold ps-0 py-2 border-bottom border-secondary">Все книги</a>
          <a href="{% url 'authors' %}" class="nav-link text-dark fw-semibold ps-0 py-2 border-bottom border-secondary">Все авторы</a>
        </nav>
        {% endblock sidebar %}
      </aside>
      <section class="col-10">
        <div class="px-3">
          {% block content %}{% endblock content %}
        </div>

        <nav aria-label="Page navigation" class="mt-4 d-flex justify-content-center">
          <ul class="pagination pagination-sm">
            {% if page_obj.paginator.num_pages > 1 %}
              {% if page_obj.has_previous %}
                <li class="page-item">
                  <a class="page-link" href="?page=1" aria-label="Первая">
                    <span aria-hidden="true">&laquo; Первая</span>
                  </a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="?page={{ page_obj.previous_page_number }}" aria-label="Предыдущая">
                    Предыдущая
                  </a>
                </li>
              {% endif %}
              <li class="page-item disabled">
                <span class="page-link">
                  Стр. {{ page_obj.number }} из {{ page_obj.paginator.num_pages }}
                </span>
              </li>
              {% if page_obj.has_next %}
                <li class="page-item">
                  <a class="page-link" href="?page={{ page_obj.next_page_number }}" aria-label="Следующая">
                    Следующая
                  </a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="?page={{ page_obj.paginator.num_pages }}" aria-label="Последняя">
                    Последняя &raquo;
                  </a>
                </li>
              {% endif %}
            {% endif %}
          </ul>
        </nav>
      </section>
    </div>
  </main>

  <footer class="container-fluid bg-secondary text-white py-2 text-center small lh-1 mt-auto">
    {% block footer %}
    <p class="mb-0">Мои права защищены 4мя листочками А4 и шариковой ручкой</p>
    {% endblock footer %}
  </footer>
</body>
</html>
